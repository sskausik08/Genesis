\section{Proofs}
\begin{theorem}[Hardness of synthesis]
\label{thm:ospfsynth}
Given a
network with a single domain,
and a positive number $C_{sc}$,
the problem generating
a path-compliant configuration with at most $C_{sc}$ static routes
is NP-complete.
\end{theorem}
\input{route-filters-nphard}

\begin{theorem}
	Given a
	network and  set of paths  $\Pi$,
	the problem of generating a domain assignment for which
	there exists a 
	configuration that is path-compliant with $\Pi$ with no static routes
	is NP-complete.
\end{theorem}
\input{dom-ass-nphard}

\begin{theorem}[Correctness]
	Edge weights satisfying the constraints will ensure paths 
	are policy-compliant. 
\end{theorem}
\begin{proof}
	Assume that for a path from $s$ to $R_\lambda$, the shortest path in the network
	is not policy-compliant. Let us denote the shortest path by $s \rightarrow
	s_1 \rightarrow \ldots s_n \rightarrow R_\lambda$. 

	
	By distance equations: 
	\[
	D_{s_1}^{R_\lambda} \leq W_{s_1}^{s_2} + D_{s_2}^{R_\lambda} 
\]
\[
	D_{s_2}^{R_\lambda} \leq W_{s_2}^{s_3} + D_{s_3}^{R_\lambda} 
\]
\begin{center}
	$\ldots$
\end{center}
\[
D_{s_n}^{R_\lambda} \leq W_{s_n}^{R_\lambda} + D_{R_\lambda}^{R_\lambda} 
\]
	Thus, by \cref{eq:unique} constraints:
\[
	\sum_{\mathclap{\substack{l_i=(r_1,r_2)}}} 
	W_{r_1}^{r_2} < W_{s}^{s_1}+ D_{s_1}^{R_\lambda}
\]
\[
\sum_{\mathclap{\substack{l_i=(r_1,r_2)}}} 
W_{r_1}^{r_2} < W_{s}^{s_1}+W_{s_1}^{s_2} +  D_{s_2}^{R_\lambda}
\]
\begin{center}
$\ldots$
\end{center}
		\[\sum_{\mathclap{\substack{l_i=(r_1,r_2)}}} 
		W_{r_1}^{r_2} < W_{s}^{s_1}+ W_{s_1}^{s_2} \ldots W_{s_n}^{R_\lambda}
		\]
However, this contradicts the assumption that $s \rightarrow
s_1 \rightarrow \ldots s_n \rightarrow R_\lambda$ is the shortest path from $s$ to $R_\lambda$
\end{proof}